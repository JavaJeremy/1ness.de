var O=Object.defineProperty;var V=(a,s,r)=>s in a?O(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r;var l=(a,s,r)=>(V(a,typeof s!="symbol"?s+"":s,r),r);import{d as $,c as m,a as n,t as d,g as b,u as F,F as A,r as B,o as h,n as y,j as k,k as P}from"./index-2b512bb3.js";const z="/assets/shows_farai_poster-7a4bc5ef.jpg",I=new Date;I.setHours(0,0,0,0);class p{constructor(s,r,t){l(this,"location");l(this,"dateExport");l(this,"timeStart");l(this,"timeEnd");l(this,"cancelled");l(this,"cancelReason");l(this,"privateEvent");l(this,"inFuture");this.location=s;const o=r.split("."),e=parseInt(o[0],10),i=parseInt(o[1],10)-1,g=parseInt(o[2],10),[u,S]=t!=null&&t.timeStart?t.timeStart.split(":"):["0","0"],f=new Date(g,i,e,parseInt(u),parseInt(S));this.dateExport=f,this.timeStart=(t==null?void 0:t.timeStart)||"",this.timeEnd=(t==null?void 0:t.timeEnd)||"",this.cancelled=(t==null?void 0:t.cancelled)||!1,this.cancelReason=(t==null?void 0:t.cancelledReason)||"",this.privateEvent=(t==null?void 0:t.privateEvent)||!1,this.inFuture=f>=I}}class v{constructor(s,r){l(this,"name");l(this,"locationLink");this.name=s,this.locationLink=r}}const x={funambules:new v("shows.locations.funambules","https://goo.gl/maps/WfQcn4m7ChYrtskk6"),klangbar:new v("shows.locations.klangbar","https://g.page/Suhrhof"),chillaz:new v("shows.locations.chillaz","https://goo.gl/maps/FAGBaSftFJoApiTJA"),sandgut:new v("shows.locations.sandgut","https://goo.gl/maps/jswMDMWCNhT9ik7X7"),riders:new v("shows.locations.riders","https://goo.gl/maps/TV2AzJBSfkARXwTk8"),private:new v("shows.locations.private","")};function j(){if(navigator.userAgent.indexOf("MSIE")>-1&&navigator.userAgent.indexOf("MSIE 10")===-1){console.log("Unsupported Browser");return}const a=navigator.appVersion.indexOf("Win")!==-1?`\r
`:`
`,s=[],r=["BEGIN:VCALENDAR","PRODID:-//1ness//cal_events/NONSGML v1.0//DE","VERSION:2.0"].join(a),t=a+"END:VCALENDAR";return{events:function(){return s},calendar:function(){return r+a+s.join(a)+t},addEvent:function(o,e,i,g,u){if(typeof o>"u"||typeof e>"u"||typeof i>"u"||typeof g>"u"||typeof u>"u")return!1;const S=new Date(g),f=new Date(u),E=function(c){const _=("0000"+c.getFullYear().toString()).slice(-4),w=("00"+(c.getMonth()+1).toString()).slice(-2),N=("00"+c.getDate().toString()).slice(-2),R=("00"+c.getUTCHours().toString()).slice(-2),C=("00"+c.getMinutes().toString()).slice(-2),M=("00"+c.getMinutes().toString()).slice(-2),L="T"+R+C+M+"Z";return _+w+N+L},D=["BEGIN:VEVENT","UID:"+function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){const _=Math.random()*16|0;return(c==="x"?_:_&3|8).toString(16)})}(),"CLASS:PUBLIC","DESCRIPTION:"+e,"DTSTAMP:"+E(new Date),"DTSTART:"+E(S),"DTEND:"+E(f),"LOCATION:"+i,"SUMMARY:"+o,"TRANSP:TRANSPARENT","END:VEVENT"].join(a);return s.push(D),D},download:function(o,e){if(s.length<1)return!1;const i=r+a+s.join(a)+t;window.open("data:text/calendar;charset=utf-8,"+escape(i))}}}const U={class:"pb-3"},H={class:"container"},G={class:"row"},J={class:"col-md order-2"},W=["src"],Y={class:"col-md order-1 order-md-3"},X={class:"table table-hover text-start"},Q=n("th",{scope:"col",class:"text-center"},[n("i",{class:"bi-calendar2-heart-fill"})],-1),Z={scope:"col"},q={scope:"col"},K={scope:"row",class:"text-center"},tt=["title","onClick"],et=n("i",{class:"bi-download text-light",style:{"font-size":"0.9rem"}},null,-1),nt=[et],st={class:"align-middle"},at={key:0,class:"small m-0"},ot={key:0},rt=n("i",{class:"bi-clock-fill"},null,-1),lt=[rt],ct={class:"align-middle"},it=["href"],dt=n("i",{class:"bi-geo-alt-fill"},null,-1),ut=["href"],mt=n("i",{class:"bi-geo-alt-fill"},null,-1),ft=$({__name:"ShowsView",setup(a){const s=t=>{const o=j(),e=new Date(t.dateExport.getTime());t.timeStart===""&&(t.timeStart="8:00");const[i,g]=t.timeStart.split(":");e.setHours(parseInt(i)),e.setMinutes(parseInt(g));const u=new Date(t.dateExport.getTime());t.timeEnd===""&&(t.timeEnd="23:00");const[S,f]=t.timeEnd.split(":");u.setHours(parseInt(S)),u.setMinutes(parseInt(f));const E=e,T=u,D=t.location.name,c="Oneness - Live",_="Auftritt von Oneness";o==null||o.addEvent(c,_,D,E.toUTCString(),T.toUTCString()),o==null||o.download("oneness-live",".ics")},r=[new p(x.klangbar,"21.04.2023"),new p(x.riders,"06.05.2023",{timeStart:"20:30"}),new p(x.private,"12.08.2023",{privateEvent:!0}),new p(x.chillaz,"08.07.2023"),new p(x.chillaz,"19.08.2023"),new p(x.funambules,"31.10.2023")];return(t,o)=>(h(),m(A,null,[n("div",U,[n("h3",null,d(t.$t("nav.links.shows")),1),b(" "+d(t.$t("shows.subtitle")),1)]),n("div",H,[n("div",G,[n("div",J,[n("img",{src:F(z),class:"img-fluid oneness-poster rounded-lg float-right",alt:"Oneness Live Poster"},null,8,W)]),n("div",Y,[n("table",X,[n("thead",null,[n("tr",null,[Q,n("th",Z,d(t.$t("shows.table.when")),1),n("th",q,d(t.$t("shows.table.where")),1)])]),n("tbody",null,[(h(),m(A,null,B(r,e=>n("tr",{key:e.dateExport.getTime(),class:y([e.cancelled?"bg-danger":e.inFuture?"":"text-muted"])},[n("th",K,[!e.cancelled&&!e.privateEvent&&e.inFuture?(h(),m("button",{key:0,class:"btn btn-sm btn-primary",title:t.$t("shows.table.download"),onClick:i=>s(e)},nt,8,tt)):k("",!0)]),n("td",st,[e.cancelled?(h(),m("p",at,d(t.$t("shows.cancelled"))+d(e.cancelReason&&t.$t(e.cancelReason)),1)):k("",!0),n("p",{class:"small m-0",style:P("textDecorationLine:"+e.cancelled?"line-through":"initial")},[b(d(t.$d(e.dateExport,e.timeStart?"long":"short"))+" ",1),e.timeStart?(h(),m("span",ot,lt)):k("",!0)],4)]),n("td",ct,[e.cancelled||e.privateEvent?(h(),m("div",{key:0,target:"_blank",rel:"noopener noreferrer",href:e.location.locationLink,class:y(e.cancelled?"oneness-strikethrough":"")},[dt,b(" "+d(t.$t(e.location.name)),1)],10,it)):(h(),m("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:e.location.locationLink},[mt,b(" "+d(t.$t(e.location.name)),1)],8,ut))])],2)),64))])])])])])],64))}});export{ft as default};
