var O=Object.defineProperty;var V=(a,s,o)=>s in a?O(a,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[s]=o;var c=(a,s,o)=>(V(a,typeof s!="symbol"?s+"":s,o),o);import{d as $,c as m,a as n,t as d,g as E,u as P,F as I,r as B,o as h,n as N,j as k,k as F}from"./index-ad71d5a2.js";const j="/assets/shows_farai_poster-7a4bc5ef.jpg",A=new Date;A.setHours(0,0,0,0);class D{constructor(s,o,t){c(this,"location");c(this,"dateExport");c(this,"timeStart");c(this,"timeEnd");c(this,"cancelled");c(this,"cancelReason");c(this,"privateEvent");c(this,"inFuture");this.location=s;const r=o.split("."),e=parseInt(r[0],10),i=parseInt(r[1],10)-1,_=parseInt(r[2],10),[u,v]=t!=null&&t.timeStart?t.timeStart.split(":"):["0","0"],f=new Date(_,i,e,parseInt(u),parseInt(v));this.dateExport=f,this.timeStart=(t==null?void 0:t.timeStart)||"",this.timeEnd=(t==null?void 0:t.timeEnd)||"",this.cancelled=(t==null?void 0:t.cancelled)||!1,this.cancelReason=(t==null?void 0:t.cancelledReason)||"",this.privateEvent=(t==null?void 0:t.privateEvent)||!1,this.inFuture=f>=A}}class p{constructor(s,o){c(this,"name");c(this,"locationLink");this.name=s,this.locationLink=o}}const b={funambules:new p("shows.locations.funambules","https://goo.gl/maps/WfQcn4m7ChYrtskk6"),klangbar:new p("shows.locations.klangbar","https://g.page/Suhrhof"),sandgut:new p("shows.locations.sandgut","https://goo.gl/maps/jswMDMWCNhT9ik7X7"),riders:new p("shows.locations.riders","https://goo.gl/maps/TV2AzJBSfkARXwTk8"),private:new p("shows.locations.private","")};function U(){if(navigator.userAgent.indexOf("MSIE")>-1&&navigator.userAgent.indexOf("MSIE 10")===-1){console.log("Unsupported Browser");return}const a=navigator.appVersion.indexOf("Win")!==-1?`\r
`:`
`,s=[],o=["BEGIN:VCALENDAR","PRODID:-//1ness//cal_events/NONSGML v1.0//DE","VERSION:2.0"].join(a),t=a+"END:VCALENDAR";return{events:function(){return s},calendar:function(){return o+a+s.join(a)+t},addEvent:function(r,e,i,_,u){if(typeof r>"u"||typeof e>"u"||typeof i>"u"||typeof _>"u"||typeof u>"u")return!1;const v=new Date(_),f=new Date(u),x=function(l){const g=("0000"+l.getFullYear().toString()).slice(-4),y=("00"+(l.getMonth()+1).toString()).slice(-2),w=("00"+l.getDate().toString()).slice(-2),R=("00"+l.getUTCHours().toString()).slice(-2),C=("00"+l.getMinutes().toString()).slice(-2),M=("00"+l.getMinutes().toString()).slice(-2),L="T"+R+C+M+"Z";return g+y+w+L},S=["BEGIN:VEVENT","UID:"+function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const g=Math.random()*16|0;return(l==="x"?g:g&3|8).toString(16)})}(),"CLASS:PUBLIC","DESCRIPTION:"+e,"DTSTAMP:"+x(new Date),"DTSTART:"+x(v),"DTEND:"+x(f),"LOCATION:"+i,"SUMMARY:"+r,"TRANSP:TRANSPARENT","END:VEVENT"].join(a);return s.push(S),S},download:function(r,e){if(s.length<1)return!1;const i=o+a+s.join(a)+t;window.open("data:text/calendar;charset=utf-8,"+escape(i))}}}const H={class:"pb-3"},z={class:"container"},G={class:"row"},W={class:"col-md order-2"},Y=["src"],X={class:"col-md order-1 order-md-3"},J={class:"table table-hover text-start"},Q=n("th",{scope:"col",class:"text-center"},[n("i",{class:"bi-calendar2-heart-fill"})],-1),Z={scope:"col"},q={scope:"col"},K={scope:"row",class:"text-center"},tt=["title","onClick"],et=n("i",{class:"bi-download text-light",style:{"font-size":"0.9rem"}},null,-1),nt=[et],st={class:"align-middle"},at={key:0,class:"small m-0"},rt={key:0},ot=n("i",{class:"bi-clock-fill"},null,-1),ct=[ot],lt={class:"align-middle"},it=["href"],dt=n("i",{class:"bi-geo-alt-fill"},null,-1),ut=["href"],mt=n("i",{class:"bi-geo-alt-fill"},null,-1),ft=$({__name:"ShowsView",setup(a){const s=t=>{const r=U(),e=new Date(t.dateExport.getTime());t.timeStart===""&&(t.timeStart="8:00");const[i,_]=t.timeStart.split(":");e.setHours(parseInt(i)),e.setMinutes(parseInt(_));const u=new Date(t.dateExport.getTime());t.timeEnd===""&&(t.timeEnd="23:00");const[v,f]=t.timeEnd.split(":");u.setHours(parseInt(v)),u.setMinutes(parseInt(f));const x=e,T=u,S=t.location.name,l="Oneness - Live",g="Auftritt von Oneness";r==null||r.addEvent(l,g,S,x.toUTCString(),T.toUTCString()),r==null||r.download("oneness-live",".ics")},o=[new D(b.funambules,"15.04.2023"),new D(b.klangbar,"21.04.2023"),new D(b.riders,"06.05.2023",{timeStart:"20:30"}),new D(b.private,"12.08.2023",{privateEvent:!0})];return(t,r)=>(h(),m(I,null,[n("div",H,[n("h3",null,d(t.$t("nav.links.shows")),1),E(" "+d(t.$t("shows.subtitle")),1)]),n("div",z,[n("div",G,[n("div",W,[n("img",{src:P(j),class:"img-fluid oneness-poster rounded-lg float-right",alt:"Oneness Live Poster"},null,8,Y)]),n("div",X,[n("table",J,[n("thead",null,[n("tr",null,[Q,n("th",Z,d(t.$t("shows.table.when")),1),n("th",q,d(t.$t("shows.table.where")),1)])]),n("tbody",null,[(h(),m(I,null,B(o,e=>n("tr",{key:e.dateExport.getTime(),class:N([e.cancelled?"bg-danger":e.inFuture?"":"text-muted"])},[n("th",K,[!e.cancelled&&!e.privateEvent&&e.inFuture?(h(),m("button",{key:0,class:"btn btn-sm btn-primary",title:t.$t("shows.table.download"),onClick:i=>s(e)},nt,8,tt)):k("",!0)]),n("td",st,[e.cancelled?(h(),m("p",at,d(t.$t("shows.cancelled"))+d(e.cancelReason&&t.$t(e.cancelReason)),1)):k("",!0),n("p",{class:"small m-0",style:F("textDecorationLine:"+e.cancelled?"line-through":"initial")},[E(d(t.$d(e.dateExport,e.timeStart?"long":"short"))+" ",1),e.timeStart?(h(),m("span",rt,ct)):k("",!0)],4)]),n("td",lt,[e.cancelled||e.privateEvent?(h(),m("div",{key:0,target:"_blank",rel:"noopener noreferrer",href:e.location.locationLink,class:N(e.cancelled?"oneness-strikethrough":"")},[dt,E(" "+d(t.$t(e.location.name)),1)],10,it)):(h(),m("a",{key:1,target:"_blank",rel:"noopener noreferrer",href:e.location.locationLink},[mt,E(" "+d(t.$t(e.location.name)),1)],8,ut))])],2)),64))])])])])])],64))}});export{ft as default};
